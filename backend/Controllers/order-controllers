const Order = require('../Models/OrderModel');
const Cart = require('../Models/CartModel');

createOrder = async (req, res) => {
  try {
    const userId='jdfskje';
    const {  cartItems } = req.body;
    for (const item of cartItems) {
      const newOrder = new Order({
        userId: userId,
        productId: item.productId,
        quantity: item.quantity,
       
      });
      await newOrder.save();
    }
    await Cart.deleteMany({ userId: userId });
    res.status(200).send("Order placed successfully");
  } catch (error) {
    console.error(error);
    res.status(500).send("Internal server error");
  }
};

exports.createOrder = createOrder;